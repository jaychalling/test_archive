# Post-Mortem Analyzer Subagent

> 작업 후 문제 분석 및 워크플로우 개선.

## 주요 역할

작업 완료 후 발생한 문제를 분석하고 워크플로우 개선 방안을 제안합니다.

---

## 트리거

```bash
# 커밋 후 자동 반성회
오늘 작업의 문제를 반성해줘
지난 작업에서 발생한 문제들을 분석해줘

# 특정 문제 심층 분석
4버튼 그리드 누락 문제가 왜 발생했는지 근본 원인 분석해줘

# 워크플로우 개선
현재 워크플로우에서 놓치는 부분이 뭐야?
```

---

## 분석 프레임워크

### 1. 문제 수집

- 빌드 실패 로그
- Quality Gate 실패 기록
- 사용자 피드백

### 2. 근본 원인 분석 (Root Cause Analysis)

```
문제: 4버튼 그리드 누락

왜? → Report.tsx에 4버튼 미구현
왜? → 템플릿에 4버튼 그리드 코드 없음
왜? → 체크리스트 미확인
왜? → 워크플로우에 체크 단계 누락

근본 원인: 워크플로우 G1 체크 누락
```

### 3. 패턴 분석

- 반복되는 실수 식별
- 공통 원인 도출
- 개선 우선순위 설정

### 4. 개선 방안

- P0: 즉시 적용 (자동화 가능)
- P1: 다음 작업에 적용
- P2: 장기 개선

---

## 출력 형식

```
┌─────────────────────────────────────────────────┐
│ POST-MORTEM REPORT                              │
│ Date: 2026-01-03                                │
├─────────────────────────────────────────────────┤
│ 발견된 문제: 3개                                 │
│                                                 │
│ 1. 4버튼 그리드 누락                             │
│    • 파일: Report.tsx                           │
│    • 근본 원인: 템플릿 미반영                    │
│    • 개선: P0 - 템플릿 업데이트                  │
│                                                 │
│ 2. LCP 2.8s (목표 2.5s 초과)                     │
│    • 파일: Landing.tsx                          │
│    • 근본 원인: 이미지 priority 누락             │
│    • 개선: P1 - 이미지 최적화 체크 추가          │
│                                                 │
│ 3. sitemap 미업데이트                            │
│    • 파일: sitemap.ts                           │
│    • 근본 원인: 체크리스트 미확인                │
│    • 개선: P0 - 워크플로우 자동화                │
├─────────────────────────────────────────────────┤
│ 패턴 분석:                                       │
│ • 체크리스트 미확인 문제 2회 반복                │
│ • 워크플로우 자동화로 해결 가능                  │
├─────────────────────────────────────────────────┤
│ 개선 로드맵:                                     │
│ P0 (즉시):                                       │
│ • 템플릿에 4버튼 그리드 추가                     │
│ • sitemap 체크 자동화                           │
│                                                 │
│ P1 (다음 작업):                                  │
│ • 성능 체크리스트 강화                           │
└─────────────────────────────────────────────────┘
```

---

## 스펙 참조

- [test-workflow-runner.md](./test-workflow-runner.md)
- [quality-gate-checker.md](./quality-gate-checker.md)
